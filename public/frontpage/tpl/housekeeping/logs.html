<div ng-controller="HousekeepLogController" style="{{full_height}}">
    <div class="wrapper-md1 bg-light b-b">
        <a class="btn btn-sm btn-info pull-right" ui-sref="app.housekeeping.dashboard">Dashboard</a> 
        <h1 class="m-n font-thin h3">Housekeeping</h1>
    </div>
    <div class="wrapper-md1">
        <div class="panel panel-default">
            <div class="panel-heading" style="height: 45px;">Logs
                <div class="input-group col-xs-2 pull-right" style="padding-right: 15px">
                    <span ng-show="filter_value" class="input-group-btn">
                        <button type="submit" class="btn btn-sm " ng-click="clearLog()"><i class="fa fa-close"></i></button>
                    </span>	
                    <input type="text" ng-model="filter_value" class="form-control input-sm no-border  padder" ng-keyup="$event.keyCode == 13 && searchLog(filter_value)" placeholder="Search">
                    <span class="input-group-btn">
                        <button type="submit" class="btn btn-sm " ng-click="searchLog(filter_value)"><i class="fa fa-search"></i></button>
                    </span>	          	
                </div>   
            </div>
           
            <div class="table table-responsive">
                <table  st-table="guestlist"  st-pipe="getDataList" class="table ticket">
                    <thead >
                        <tr >
                            <th st-sort="id" st-sort-default="reverse"><b>ID</b></th>
                            <th class="text-center" st-sort="room"><b>Room Number</b></th>
                            <th class="text-center" st-sort="status"><b>Room Status</b></th>
                            <th class="text-center" st-sort="status">
                                <b>Cleaning Status</b>
                            </th>
                            <th class="text-center" st-sort="username"><b>User Name</b></th>
                            <th class="text-center" st-sort="ivr_code"><b>IVR Code</b></th>
                            <th class="text-center" st-sort="pms_code"><b>PMS Code</b></th>
                            <th class="text-center" st-sort="method"><b>Method</b></th>
                            <th st-sort="type"><b>Type</b></th>
                            <th st-sort="created_at"><b>Date</b></th>
                            <th st-sort="created_at"><b>Time</b></th>
                            <th style="width: 50px"><b>Checklist</b></th>
                        </tr>
                    </thead>
                    <tbody ng-hide="isLoading">
                        <tr class="" ng-repeat="row in datalist">
                            <td  style="width: 20px">
                                <a>{{row.id}}</a>
                            </td>
                            <td class="text-center" >{{row.room}}</td>
                            <td class="text-center">{{row.status}}</td>
                            <td class="text-center">{{row.clean_state}}</td>
                            <td class="text-center">{{row.wholename}}</td>
                            <td class="text-center">{{row.ivr_code}}</td>
                            <td class="text-center">{{row.pms_code}}</td>
                            <td class="text-center">{{row.method}}</td>
                            <td >{{row.type}}</td>
                            <td>{{getDate(row)}}</td>
                            <td>{{getTime(row)}}</td>
                            <td class="text-center" >
                                <a class="btn default btn-xs red" ng-if="row.check_num > 0" ng-click="onViewChecklist(row)">
                                    <i class="fa fa-eye"></i>
                                </a>   
                            </td>
                        </tr>
                    </tbody>
                    <tbody ng-show="isLoading">
                    <tr>
                        <td colspan="9" class="text-center"><i class="fa fa-spin fa-refresh"></i></td>
                    </tr>
                    </tbody>
                    <tfoot ng-hide="isLoading">
                        <tr ng-show="paginationOptions.totalItems > paginationOptions.pageSize">
                            <td colspan="9" class="text-center">
                                <div st-pagination="" st-items-by-page="paginationOptions.pageSize" st-displayed-pages="7" class="no-margin"></div>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</div>
