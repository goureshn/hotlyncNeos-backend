<style>
  .total_count {
      background-color: #2c3e50;
      margin-bottom: 0px;
      border-radius: 6px;
  }

	.create_menu a {
		height: 0px;
		margin-top: -2px;
	}
</style>
<div ng-controller="WakeupController" ng-style="{'height': full_height, 'overflow-y': 'hidden'}" style="overflow-x: hidden">

	<!-- - - - - - - - - - - - - - - - - - - - - - - - HEADER - - - - - - - - - - - - - - - - - - - - - - - -->
	<div class="row bg-light lt" style="padding: 12px; margin-left: -10px">
    	<div class="col-sm-6 col-xs-12">
			<h1 class="m-n font-thin h5 text-black" style="color:#337ab7">
				<label style="font-size: 1.5vw; margin-bottom: 0px"><i class="fa fa-sun-o"></i>
					Auto Wakeup Call
				</label>
			</h1>
    	</div>
	</div>
	<!-- - - - - - - - - - - - - - - - - - - - - - - END OF HEADER - - - - - - - - - - - - - - - - - - - - - - -->

	<!-- - - - - - - - - - - - - - - - - - - - - - - - STATISTICS - - - - - - - - - - - - - - - - - - - - - - - -->
	<div class="row text-center wrapper" style="overflow-y: hidden; width: 90%; margin: auto">
		<div class="col-md-2">
			<a href class="block panel padder-v item card bg-dark total_count"  ng-click="onFilter('Success')">
				<span class="text-success font-thin h4 block ">{{subcount.success}}</span>  <!-- Dummy Need to have Actual count -->
				<span class="text-muted text-xs">Successful</span>
			</a>
		</div>
		<div class="col-md-2">
			<a href class="block panel padder-v item card bg-dark total_count"  ng-click="onFilter('Failed')">
				<span class="text-danger font-thin h4 block">{{subcount.failed}}</span> <!-- Dummy Need to have Actual count -->
				<span class="text-muted text-xs">Failed</span>
			</a>
		</div>

		<div class="col-md-2">
			<a href class="block panel padder-v item card bg-dark total_count"  ng-click="onFilter('No Answer')">
				<span class="font-thin h4 block" style="color: #FF9800">{{subcount.unanswer}}</span> <!-- Dummy Need to have Actual count -->
				<span class="text-muted text-xs">No Answer</span>
			</a>
		</div>
		<div class="col-md-2">
			<a href class="block panel padder-v item card bg-dark total_count"   ng-click="onFilter('Snooze')" >
				<span class="text-warning font-thin h4 block">{{subcount.snooze}}</span> <!-- Dummy Need to have Actual count -->
				<span class="text-muted text-xs">Snooze</span>
			</a>
		</div>
		<div class="col-md-2">
			<a href class="block panel padder-v item card bg-dark total_count"  ng-click="onFilter('Pending')" >
				<span class="font-thin h4 block" style="color: #FFA726">{{subcount.pending}}</span> <!-- Dummy Need to have Actual count -->
				<span class="text-muted text-xs">Pending</span>
			</a>
		</div>
		<div class="col-md-2">
			<a href class="block panel padder-v item card bg-dark total_count"  ng-click="onFilter('Total')">
				<span class="text-info font-thin h4 block">{{subcount.total}}</span> <!-- Dummy Need to have Actual count -->
				<span class="text-muted text-xs">Total</span>
			</a>
		</div>
	</div>
	<!-- - - - - - - - - - - - - - - - - - - - - - - - END OF STATISTICS - - - - - - - - - - - - - - - - - - - - - - - -->

	<div class="hbox" style="margin: -7px; height: 210px">
		<div class="col b-r" style="width: 50%">
			<!-- header -->
			<div class="wrapper bg-light lter b-b" style="margin: -3px">
				<div class="btn-group pull-right">
					<button type="button" class="btn btn-sm btn-bg btn-default">
					  	{{paginationOptions.numberOfPages}}/{{paginationOptions.countOfPages}} - {{paginationOptions.totalItems}} Items
					</button>
					<button type="button" class="btn btn-sm btn-bg btn-default" ng-click="onPrevPage()" ng-disabled="paginationOptions.numberOfPages <= 1">
						<i class="fa fa-chevron-left"></i>
					</button>
					<button type="button" class="btn btn-sm btn-bg btn-default" ng-click="onNextPage()"
						ng-disabled="paginationOptions.numberOfPages >= paginationOptions.countOfPages">
						<i class="fa fa-chevron-right"></i>
					</button>
				</div>

			  	<div class="btn-toolbar" style="padding-left: 11px">
					<div class="btn-group">
						<button id="dateranger" class="btn btn-sm btn-icon btn-default" data-toggle="tooltip" title="Filter" data-placement="bottom" ui-jq="daterangepicker" ui-options="dateRangeOption"	 data-title="Refresh" ng-click="onClickDateFilter()">
							<i class="fa fa-calendar"></i>
						</button>							
					</div>
					<div class="btn-group">
						<button class="btn btn-sm btn-bg btn-default" data-toggle="tooltip" data-placement="bottom"
							data-title="Refresh" data-original-title="" title="" ng-click="refreshLogs()">
							<i class="fa fa-refresh"></i>
						</button>
					</div>
					<div class="input-group col-md-3" style="padding-left: 10px">
						<input type="text" ng-model="searchtext" ng-keyup="onSearch()" class="form-control input-sm bg-light no-border rounded padder" placeholder="Room/Extension">
						<span class="input-group-btn">
							<button type="submit"   class="btn btn-sm bg-light rounded"><i class="fa fa-search"></i></button>
						</span>
					</div>
			  	</div>
			</div>
			<!-- / header -->
			<!-- Grid Table -->
			<div class="portlet" style="width: 100%">
				<div class="portlet-body" style="overflow-y: auto">
					<div class="table table-responsive" style="{{tab_full_height}}">
						<table  st-table="guestlist"  st-pipe="getDataList" class="table ticket table-striped b-t b-light">
							<thead class="tblhead-sm" style="font-size: .8vw; height: 30px">
								<tr>
									<th class="text-center" st-sort="id" style="white-space: nowrap">
										<b>&nbsp;Ref. No</b>
									</th>
									<th class="text-center" st-sort="time" st-sort-default="ascending"><b>&nbsp;Time</b></th>
									<th class="text-center"><b>Guest</b></th>
									<th class="text-center" st-sort="room"><b>&nbsp;Room</b></th>
									<th class="text-center"><b>Set-by</b></th>
									<th class="text-center"><b>Attempts</b></th>
									<th class="text-center"><b>Fail Reason</b></th>
									<th class="text-center"><b>Status</b></th>
								</tr>
							</thead>
							<tbody ng-hide="isLoading" style="font-size: .8vw">
								<tr class="{{getRowCss(row)}}; text-center" ng-click="onSelectTicket(row)" ng-repeat="row in datalist " style="cursor:pointer;">
									<td>{{row.id}}</td>
									<td>{{row.time}}</td>
									<td>{{row.guest_name}}</td>
									<td>{{row.room}}</td>
									<td>{{row.set_by}}</td>
									<td>{{row.attempts}}</td>
									<td>{{row.fail_reason}}</td>
									<td><a><span ng-class="{'label' : true, 'm-l-sm': true,
																	'bg-wakeup-pending': row.status == 'Pending',
																	'bg-wakeup-in-progress': row.status == 'In-Progress',
																	'bg-wakeup-success': row.status == 'Success',
																	'bg-wakeup-snooze': row.status == 'Snooze',
																	'bg-wakeup-busy': row.status == 'Busy',
																	'bg-wakeup-no-answer': row.status == 'No Answer',
																	'bg-wakeup-not-confirm': row.status == 'Not Confirmed',
																	'bg-wakeup-canceled': row.status == 'Canceled',
																	'bg-wakeup-failed': row.status == 'Failed',
																	'bg-wakeup-waiting': row.status == 'Waiting',
																}"
													>{{row.status}}
												</span>
											</a>
									</td>

								</tr>
							</tbody>
							<tbody ng-show="isLoading">
								<tr>
									<td colspan="7" class="text-center"><i class="fa fa-spin fa-refresh"></i></td>
								</tr>
							</tbody>
							<tfoot ng-hide="true">
								<tr ng-show="paginationOptions.totalItems > paginationOptions.pageSize">
									<td colspan="7" class="text-center">
										<div st-pagination="" st-items-by-page="paginationOptions.pageSize" st-displayed-pages="7" class="no-margin"></div>
									</td>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>
			</div>
		</div>
		<div class="col" ng-style="{'height': tab_full_height, 'overflow-y': 'hidden'}">
			<md-content class="call_menu navi clearfix">
				<md-tabs md-selected="selectedIndex"  md-disable-animation md-autoselect md-dynamic-height md-border-bottom style="height:30px;">
					<md-tab  md-disable-animation ng-repeat="tab in newTickets" style="margin:8px -5px 0px;" class="{{active == 1 ? 'tab-current' : ''}}">
						<md-tab-label>
							<i class="fa fa-plus-square"></i>&nbsp;&nbsp;New Wake-up
						</md-tab-label>
										
						<md-tab-body>
							<div fill-height additional-padding="50" debounce-wait="500" ng-controller="WakeupCreateController" ng-include="'tpl/guestservice/wakeup/wakeup_create.html'">
							</div>
						</md-tab-body>
					</md-tab>
						
					<md-tab ng-repeat="tab in selectedTickets" style="margin:8px -5px 0px;">
						<md-tab-label>&nbsp;{{getTicketNumber(tab)}}
							<i class="fa fa-times" style="margin-left: 5px; color:#FF0000" ng-click="onSelectTicket(tab)"></i>
						</md-tab-label>
										
						<md-tab-body>
							<div fill-height additional-padding="50" debounce-wait="1000" ng-controller="WakeupEditController" ng-include="'tpl/guestservice/wakeup/wakeup_edit.html'" ng-init="init(tab)">
							</div> 
						</md-tab-body>
					</md-tab>
				</md-tabs>
			</md-content>
		</div>
	</div>
</div>
