<style>
    .total_count {
        background-color: #2c3e50;
        margin-bottom: 0px;
        border-radius: 6px;
    }

    .create_menu a {
        height: 0px;
        margin-top: -2px;
    }


     nav {
         position: relative;
         z-index: 1;
         white-space: nowrap;
         font-size: 12px;;
     }

    nav a {
        position: relative;
        display: inline-block;
        padding: 1.5em 1.5em 1em;
        text-decoration: none;
        margin: 0 -5px;
        color: #fff;
    }

    nav a:hover {
        color: #ef6905;
    }

    nav a::before,
    main {
        border-top: .12em solid #aaa;
    }

    nav a::before {
        content: ''; /* To generate the box */
        position: absolute;
        top: 0; right: 0; bottom: .5em; left: 0;
        z-index: -1;
        margin-bottom: 1px;
        border-bottom: none;
        border-radius: 10px 10px 0 0;
        background: #2e3344;
        box-shadow: 0 2px hsla(0,0%,100%,.5) inset;
        transform: perspective(5px) rotateX(2deg);
        transform-origin: bottom;
    }

    nav.left a {
        padding: 1.5em 2em 1em 1em;
    }

    nav.left a::before {
        transform-origin: bottom left;
    }

    nav.right a {
        padding: 1.5em 1em 1em 2em;
    }

    nav.right a::before {
        transform-origin: bottom right;
    }

    nav a.selected {
        z-index: 2;
    }

    nav a.selected::before {
        margin-bottom: 1px;
        border-top-width: 1px;
    }

    nav a.selected::before
    {
        background: #0e08b6;
    }

    main {
        display: block;
        margin-bottom: 1px;
        margin: -8px 0px 30px -15px;
        /*border-radius: 3px;*/
        background:#fff;

    }
</style>



<div  ng-controller="PromotionController" style="{{full_height}}; overflow-x: hidden">

    <div class="hbox" style="margin-top:5px; height: 510px">
        <div class="col b-r" style="width: 50%">
            <!-- header -->
            <div class="wrapper bg-light lter b-b" style="margin: -3px">
                <div class="btn-group pull-right">
                    <button type="button" class="btn btn-sm btn-bg btn-default">
                        {{paginationOptions.numberOfPages}}/{{paginationOptions.countOfPages}} - {{paginationOptions.totalItems}} Items
                    </button>
                    <button type="button" class="btn btn-sm btn-bg btn-default" ng-click="onPrevPage()" ng-disabled="paginationOptions.numberOfPages <= 1">
                        <i class="fa fa-chevron-left"></i>
                    </button>
                    <button type="button" class="btn btn-sm btn-bg btn-default" ng-click="onNextPage()"
                            ng-disabled="paginationOptions.numberOfPages >= paginationOptions.countOfPages">
                        <i class="fa fa-chevron-right"></i>
                    </button>
                </div>


                <div class="btn-toolbar" style="padding-left: 11px">
                    <div class="btn-group" style="margin-top: 2px;">
                        <h1 class="m-n font-thin h5 text-black" style="color:#337ab7">
                            <label style="font-size: 1.3vw; margin-bottom: 0px"><i class="fa fa-gift"></i>
                                Guest Service Promotion
                            </label>
                        </h1>
                    </div>
                    <div class="btn-group">
                        <button id="dateranger" class="btn btn-sm btn-icon btn-default" data-toggle="tooltip" title="Filter" data-placement="bottom" ui-jq="daterangepicker" ui-options="dateRangeOption"	 data-title="Refresh" ng-click="onClickDateFilter()">
                            <i class="fa fa-calendar"></i>
                        </button>
                    </div>
                    <!-- <div class="btn-group">
                        <button class="btn btn-sm btn-bg btn-default" data-toggle="tooltip" data-placement="bottom"
                                data-title="Refresh" data-original-title="" title="" ng-click="refreshLogs()">
                            <i class="fa fa-refresh"></i>
                        </button>
                    </div> -->
                    <div class="input-group col-md-3" style="padding-left: 10px">
                        <input type="text" ng-model="searchtext" ng-keyup="onSearch()" class="form-control input-sm bg-light no-border rounded padder" placeholder="store name/title">
              <span class="input-group-btn">
                <button type="submit"   class="btn btn-sm bg-light rounded"><i class="fa fa-search"></i></button>
              </span>
                    </div>
                </div>
            </div>
            <!-- / header -->
            <!-- Grid Table -->
            <div class="portlet" style="width: 100%">
                <div class="portlet-body" style="overflow-y: auto">
                    <div class="table table-responsive" style="{{tab_full_height}}">
                        <table  st-table="guestlist"  st-pipe="getDataList" class="table ticket table-striped b-t b-light">
                            <thead class="tblhead-sm" style="font-size: .8vw; height: 30px">
                            <tr>
                                <th class="text-center" st-sort="id" style="white-space: nowrap">
                                    <b>&nbsp;ID</b>
                                </th>
                                <th class="text-center" st-sort="outlet_name" style="white-space: nowrap">
                                    <b>&nbsp;Outlet Name</b>
                                </th>                                                        
                                <th class="text-center"><b>Start Date</b></th>
                                <th class="text-center"><b>End Date</b></th>
                                <th class="text-center" st-sort="status" ><b>Status</b></th>
                            </tr>
                            </thead>
                            <tbody ng-hide="isLoading" style="font-size: .8vw">
                            <tr class="{{getRowCss(row)}}; text-center" ng-click="onSelectTicket(row)" ng-repeat="row in datalist " style="cursor:pointer;">
                                <td>{{row.id}}</td>
                                <td class="text-left">{{row.outlet_name}}</td>                                                               
                                <td>{{row.start_date | mydatetime}}</td>
                                <td>{{row.end_date | mydatetime}}</td>
                                <td>{{row.status}}</td>
                            </tr>
                            </tbody>
                            <tbody ng-show="isLoading">
                            <tr>
                                <td colspan="7" class="text-center"><i class="fa fa-spin fa-refresh"></i></td>
                            </tr>
                            </tbody>
                            <tfoot ng-hide="true">
                            <tr ng-show="paginationOptions.totalItems > paginationOptions.pageSize">
                                <td colspan="7" class="text-center">
                                    <div st-pagination="" st-items-by-page="paginationOptions.pageSize" st-displayed-pages="7" class="no-margin"></div>
                                </td>
                            </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col">
                <div style="margin-left:15px;" >
                    <nav>
                        <a  class="{{indexname == 'create' ? 'selected' : ''}}" ng-click="loadContent('create')">&nbsp;&nbsp;Create Promotion</a>
                        <a ng-repeat="tab in selectedTickets" class="{{indexname == tab.id + 6 ? 'selected' : ''}}" ng-click="loadContent(tab.id + 6)" >
                                &nbsp;&nbsp;{{getTicketNumber(tab)}}<span ng-click="onSelectTicket(tab)"><i class="fa fa-times" style="margin-left: 5px; color:#FF0000"></i></span>
                        </a>
                    </nav>
                    <main>
                        <div fill-height additional-padding="100"  ng-if="indexname == 'create' " ng-controller="PromotionCreateController" ng-include="'tpl/guestservice/promotion/promotion_create.html'">
                        </div>
                        <div class="wrapper" ng-repeat="tab in selectedTickets" fill-height additional-padding="100" ng-if="indexname == (tab.id + 6)" ng-controller="PromotionEditController" ng-include="'tpl/guestservice/promotion/promotion_edit.html'" ng-init="init(tab)">
                        </div>
                    </main>
                </div>
        </div>

        <!--<div class="col">-->
            <!--<uib-tabset active="active">-->
                <!--<div class="tabs tabs-style-tzoid" style="pull-left">-->
                    <!--<nav ui-nav class="call_menu navi clearfix">-->
                        <!--<ul class="tabs-style-tzoid nav" style="margin-left: -7px; height:40px;">-->
                            <!--<li ng-repeat="tab in newTickets" style="margin:8px -5px 0px;" class="{{active == 1 ? 'tab-current' : ''}}">-->
                                <!--<uib-tab index="1">-->
                                    <!--<uib-tab-heading>-->
                                        <!--<p class="tabs-style-tzoid" style="color:#fff; font-size:12px; margin-left: -15px">&nbsp;&nbsp;Create Promotion</p>-->
                                    <!--</uib-tab-heading>-->
                                    <!--<div fill-height additional-padding="50" ng-controller="PromotionCreateController" ng-include="'tpl/guestservice/promotion/promotion_create.html'">-->
                                    <!--</div>-->
                                <!--</uib-tab>-->
                            <!--</li>-->
                            <!--<li ng-repeat="tab in selectedTickets" style="margin:8px -5px 0px;" class="{{active == tab.id + 6 ? 'tab-current' : ''}}">-->
                                <!--<uib-tab index="tab.id + 6">-->
                                    <!--<uib-tab-heading>-->
                                        <!--<p class="tabs-style-tzoid" style="color:#fff; font-size:12px">&nbsp;&nbsp;{{getTicketNumber(tab)}}<span ng-click="onSelectTicket(tab)"><i class="fa fa-times" style="margin-left: 5px; color:#FF0000"></i></span></p>-->
                                    <!--</uib-tab-heading>-->
                                    <!--<div fill-height additional-padding="50" ng-controller="PromotionEditController" ng-include="'tpl/guestservice/promotion/promotion_edit.html'" ng-init="init(tab)">-->
                                    <!--</div>-->
                                <!--</uib-tab>-->
                            <!--</li>-->
                        <!--</ul>-->
                    <!--</nav>-->
                <!--</div>-->
            <!--</uib-tabset>-->
        <!--</div>-->
    </div>
</div>
