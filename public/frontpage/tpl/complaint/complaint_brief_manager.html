<style>
  .total_count {
      background-color: #2c3e50;
      margin-bottom: 0px;
      border-radius: 6px;
  }

	.create_menu a {
		height: 0px;
		margin-top: -2px;
	}
	/* To avoid a horizontal scrollbar when the page enters/leaves the view */


.ngIncludeItem {
    position: absolute;
    top: 35px;
    bottom: 0;
    right: 0;
    left: 0;
    animation-duration: 0.30s;
    animation-timing-function: ease-in-out;
    -webkit-animation-duration: 0.30s;
    -webkit-animation-timing-function: ease-in-out;
}




/* When the page enters, slide it from the right */
.ngIncludeItem.ng-enter {
    animation-name: slideFromRight;
    -webkit-animation-name: slideFromRight;
}
/* When the page enters and moveToLeft is true, slide it from the left(out of the user view) to the right (left corner) */
.ngIncludeItem.moveToLeft.ng-enter {
    animation-name: slideFromLeft;
    -webkit-animation-name: slideFromLeft;
}
/* When the page leaves, slide it to left(out of the user view) from the left corner,
    in other words slide it from the left(out of the view) to the left corner but in reverse order */
.ngIncludeItem.ng-leave {
    animation-name: slideFromLeft;
    animation-direction: reverse;
    -webkit-animation-name: slideFromLeft;
    -webkit-animation-direction: reverse;
}
/* When the page leaves, slide it to the right(out of the user view) from the the left corner,
    in other words, slide it from the right but in reverse order  */
.ngIncludeItem.moveToLeft.ng-leave {
    animation-name: slideFromRight;
    animation-direction: reverse;
    -webkit-animation-name: slideFromRight;
    -webkit-animation-direction: reverse;
}

.overlay {
    height: 0%;
    width: 100%;
    position: fixed;
    z-index: 1;
    top: 0;
    left: 0;
    background-color: rgb(0,0,0);
    background-color: rgba(0,0,0, 0.9);
    overflow-y: hidden;
    transition: 0.5s;
}

.overlay-content {
    position: relative;
    top: 45%;
    width: 100%;
    font-size: 20px;
    text-align: center;
    margin-top: 30%;
}

.overlay a {
    padding: 8px;
    text-decoration: none;
    font-size: 36px;
    color: #818181;
    display: block;
    transition: 0.3s;
}

.overlay a:hover, .overlay a:focus {
    color: #f1f1f1;
}

.overlay .closebtn {
    position: absolute;
    top: 15%;
    right: 60px;
    
}
.bounce {
  display: inline-block;
  position: relative;
  -moz-animation: bounce 3s infinite linear;
  -o-animation: bounce 3s infinite linear;
  -webkit-animation: bounce 3s infinite linear;
  animation: bounce 3s infinite linear;
  colr:000;
}
.bounceleft{
  display: inline-block;
  position: relative;
  -moz-animation: bounceleft 3s infinite linear;
  -o-animation: bounceleft 3s infinite linear;
  -webkit-animation: bounceleft 3s infinite linear;
  animation: bounceleft 3s infinite linear;
  colr:000;
}

@-webkit-keyframes bounce {
    0%   { left:0px; top:0px;}
/*     25%  {left:200px; top:0px;} */
    50%  {left:200px; top:0px;}
    75%  {left:0px; top:0px;}
    100% {left:200px; top:0px;}
}
@-moz-keyframes bounce {
   0%   { left:0px; top:0px;}
/*     25%  {left:200px; top:0px;} */
    50%  {left:200px; top:0px;}
    75%  {left:0px; top:0px;}
    100% {left:200px; top:0px;}
}
@-o-keyframes bounce {
   0%   { left:0px; top:0px;}
/*     25%  {left:200px; top:0px;} */
    50%  {left:200px; top:0px;}
    75%  {left:0px; top:0px;}
    100% {left:200px; top:0px;}
}
@-ms-keyframes bounce {
    0%   { left:0px; top:0px;}
/*     25%  {left:200px; top:0px;} */
    50%  {left:200px; top:0px;}
    75%  {left:0px; top:0px;}
    100% {left:200px; top:0px;}
}
@keyframes bounce {
    0%   { left:0px; top:0px;}
/*     25%  {left:200px; top:0px;} */
    50%  {left:200px; top:0px;}
    75%  {left:0px; top:0px;}
    100% {left:200px; top:0px;}
}
@-webkit-keyframes bounceleft {
   0%   { right:0px; top:0px;}
/*     25%  {left:200px; top:0px;} */
    50%  {right:200px; top:0px;}
    75%  {right:0px; top:0px;}
    100% {right:200px; top:0px;}
}
@-moz-keyframes bounceleft {
  0%   { right:0px; top:0px;}
/*     25%  {left:200px; top:0px;} */
    50%  {right:200px; top:0px;}
    75%  {right:0px; top:0px;}
    100% {right:200px; top:0px;}
}
@-o-keyframes bounceleft {
    0%   { right:0px; top:0px;}
/*     25%  {left:200px; top:0px;} */
    50%  {right:200px; top:0px;}
    75%  {right:0px; top:0px;}
    100% {right:200px; top:0px;}
}
@-ms-keyframes bounceleft {
   0%   { right:0px; top:0px;}
/*     25%  {left:200px; top:0px;} */
    50%  {right:200px; top:0px;}
    75%  {right:0px; top:0px;}
    100% {right:200px; top:0px;}
}
@keyframes bounceleft {
    0%   { right:0px; top:0px;}
/*     25%  {left:200px; top:0px;} */
    50%  {right:200px; top:0px;}
    75%  {right:0px; top:0px;}
    100% {right:200px; top:0px;}
}

@keyframes slideFromRight {
    0% {
        transform: translateX(100%);
    }

    100% {
        transform: translateX(0);
    }
}

@keyframes slideFromLeft {
    0% {
        transform: translateX(-100%);
    }

    100% {
        transform: translateX(0);
    }
}

@-webkit-keyframes slideFromRight {
    0% {
        -webkit-transform: translateX(100%);
    }

    100% {
        -webkit-transform: translateX(0);
    }
}

@-webkit-keyframes slideFromLeft {
    0% {
        -webkit-transform: translateX(-100%);
    }

    100% {
        -webkit-transform: translateX(0);
    }
}
@media screen and (max-height: 450px) {
  .overlay {overflow-y: auto;}
  .overlay a {font-size: 20px}
  .overlay .closebtn {
    font-size: 40px;
    top: 15px;
    right: 35px;
  }
}

</style>
<head>
	<meta name="viewport" content="width=device-width,height=device-height,user-scalable=no">
</head>

<div ng-controller="ComplaintBriefManagerController" style="overflow: auto">
	
	<!-- - - - - - - - - - - - - - - - - - - - - - - - HEADER - - - - - - - - - - - - - - - - - - - - - - - -->
	
	<div class="row bg-light lt" style="padding: 5px; margin-left: -10px;background-color: #141414">
	    <div class="col-sm-6">
			<h1 class="m-n font-thin h5 text-black" style="color:#337ab7">
				<label style="font-size: 25px; margin-bottom: 0px"><i class="fa fa-briefcase"></i>
					Briefing - {{getTicketNumber(briefing_ticket)}} 				
				</label>
				<a class="dropdown pos-stc" ng-show="participant_list.length > 0 && discuss_started" style="margin-left: 10px">
					<label ng-click="viewParticipants('left', true)" class="text-danger font-bold text-base"
				  	style="cursor: pointer"><i class="fa fa-history text-danger"></i>&nbsp;{{participant_list.length}} Participants
				  	</label>
				</a>

				<label style="font-size: 15px; margin-bottom: 0px" ng-show="discuss_started">
					&nbsp;&nbsp;&nbsp;&nbsp;{{selected_brief_num + 1}}/{{models[1].items.length}} 				
				</label>
			</h1>
	    </div>

	    <div class="col-sm-6" style="padding-left: 0px">
	    	<button class="btn btn-sm btn-icon" data-toggle="tooltip" title="Collapse" data-placement="bottom" ng-click="collapsed = true" ng-hide="collapsed || !discuss_started">
				<i class="fa fa-indent fa-fw"></i>
			</button>

			<div class="btn-group pull-right" style="margin-right: 20px" ng-show="complaint_brief_mng_logout">
			  	<button class="btn btn-sm btn-icon btn-danger" data-toggle="tooltip" title="Logout" data-placement="bottom" ng-click="logout()">
					<i class="fa fa-power-off"></i>
			  	</button>
			</div>

			<div class="input-group col-xs-6 pull-right" ng-show="!discuss_started" style="padding-right: 15px">
				<span ng-show="filter_value" class="input-group-btn">
                <button type="submit" class="btn btn-sm " ng-click="clearComplaint()"><i class="fa fa-close"></i></button>
            </span>	
			    <input type="text" ng-model="filter_value" class="form-control input-sm no-border padder"
			    	ng-keyup="$event.keyCode == 13 && searchComplaint(filter_value)" placeholder="Guest/ID">
		      	<span class="input-group-btn">
		        	<button type="submit" class="btn btn-sm" ng-click="searchComplaint(filter_value)"><i class="fa fa-search"></i></button>
		      	</span>	          	
		  	</div>    	
	    </div>

	    
	</div>
	
	<div class="multiDemo">
		<div class="b-r col-sm-6"  ng-class="{'col-sm-6': !collapsed, 'col-sm-12': collapsed}" style="padding: 3px; font-size: 15px;" ng-show="discuss_started" >
			<div class="wrapper bg-light lter b-b">
				<div class="btn-group pull-right">
					<button class="btn btn-sm btn-icon" data-toggle="tooltip" title="Collapse" data-placement="bottom" ng-click="collapsed = false" ng-show="collapsed" style="margin-right: 10px">
						<i class="fa fa-dedent fa-fw"></i>
					</button>

					<button type="button" class="btn btn-sm btn-bg btn-info" ng-click="onPrevBreifing()">
						<i class="fa fa-dedent fa-backward"></i>
					</button>
					<button type="button" class="btn btn-sm btn-bg btn-default">
					  {{getTicketNumber(briefing_ticket)}}
					</button>		
					
					<button type="button" class="btn btn-sm btn-bg btn-info" ng-click="onNextBreifing()">
						<i class="fa fa-dedent fa-forward"></i>
					</button>				
			    </div>

			    <div class="btn-toolbar" style="padding-left: 11px">					
					<button type="button" class="btn btn-sm btn-bg btn-success" ng-show="briefing_ticket.dis_flag != 1" ng-click="onDiscussed()">
					  Completed
					</button>										
			  		
					<button type="button" class="btn btn-sm btn-bg btn-dark" ng-show="discuss_started" ng-click="toggleDiscuss()">
					  	<span class="text-danger font-bold">
					  		<i class="fa fa-stop"></i> End Briefing
					  	</span>
					</button>						
			  	</div>	
			</div>
			
			<div id="myNav" ng-show="mobflag==1" class="overlay">
			<div ng-show="nav==1">
				<button class='btn btn-lg btn-bg btn-danger pull-right' ng-click='closeNav()'><i class="fa fa-close"></i></button>
				<label class="text-danger font-bold ">Window will close in {{counter}}..
				  	</label>
				<div class="overlay-content col-sm-10" align="center">
						
					
				 
				<label class="text-info font-bold col-sm-10"
				  	style="cursor: pointer"></i><i class="fa fa fa-hand-o-left bounceleft fa-2x"></i>&nbsp;Swipe LEFT for NEXT Complaint 
				  	</label>
				
				<label class="text-info font-bold col-sm-12"
				  	style="cursor: pointer"> Swipe RIGHT for PREVIOUS Complaint&nbsp;<i class="fa fa-hand-o-right  bounce fa-2x"></i>
				  	</label></div>
			</div>
		</div>
			<div class="ngIncludeRelative" >
			<div fill-height additional-padding="50"  ng-controller="ComplaintDutyValidationController" ng-include="ngIncludeSelected.url">
			</div>
			</div>		
		</div>
		
		<div class="b-r col-sm-6" style="padding: 3px" ng-hide="discuss_started">
			<!-- header -->
			<div class="wrapper bg-light lter b-b">
				<div class="btn-group pull-right">
					<button type="button" class="btn btn-sm btn-bg btn-default">
					  {{paginationOptions.numberOfPages}}/{{paginationOptions.countOfPages}} - {{paginationOptions.totalItems}} Items
					</button>
					<button type="button" class="btn btn-sm btn-bg btn-default" ng-click="onPrevPage()" ng-disabled="paginationOptions.numberOfPages <= 1">
						<i class="fa fa-chevron-left"></i>
					</button>
					<button type="button" class="btn btn-sm btn-bg btn-default" ng-click="onNextPage()"
						ng-disabled="paginationOptions.numberOfPages >= paginationOptions.countOfPages">
						<i class="fa fa-chevron-right"></i>
					</button>
			    </div>

			    <div class="btn-toolbar" style="padding-left: 2px">
				    <div class="btn-group">
					  <button id="dateranger" class="btn btn-sm btn-icon btn-default" data-toggle="tooltip" title="Filter" data-placement="bottom" ui-jq="daterangepicker" ui-options="dateRangeOption"	 data-title="Refresh" ng-click="onClickDateFilter()">
						<i class="fa fa-calendar"></i>
					  </button>							
					</div>
					<!--<div class="btn-group">
					  <button class="btn btn-sm btn-icon btn-default" data-toggle="tooltip" title="Filter" data-placement="bottom"
						data-title="Refresh" ng-click="refreshLogs()">
						<i class="fa fa-filter"></i>
					  </button>
					</div>-->
					<div class="btn-group">
					  <button class="btn btn-sm btn-icon btn-default" data-toggle="tooltip" title="Refresh" data-placement="bottom" ng-click="refreshLogs()">
						<i class="fa fa-refresh"></i>
					  </button>
					</div>
					<button class="btn btn-sm btn-icon btn-default" ng-class="{'btn-primary':btn.pending, 'btn-default':!btn.pending}" data-toggle="tooltip" title="Pending" data-placement="bottom" ng-click="onFilter('Pending')">
						<i class="fa fa-inbox fa-fw"></i>
					</button>
					<button class="btn btn-sm btn-icon btn-default" ng-class="{'btn-success':btn.resolved, 'btn-default':!btn.resolved}" data-toggle="tooltip" title="Resolved" data-placement="bottom" ng-click="onFilter('Resolved')">
						<i class="fa fa-check fa-fw"></i>
					</button>
					<!--<button class="btn btn-sm btn-icon bg-danger" data-toggle="tooltip" title="Rejected" data-placement="bottom" ng-click="onFilter('Rejected')">
						<i class="fa fa-times fa-fw"></i>
					</button>-->
					<button class="btn btn-sm btn-icon btn-default" ng-class="{'btn-warning':btn.acknowledge, 'btn-default':!btn.acknowledge}"  data-toggle="tooltip" title="Acknowledge" data-placement="bottom" ng-click="onFilter('Acknowledge')">
						<i class="fa fa-handshake-o" aria-hidden="true"></i>
					</button>
					<button class="btn btn-sm btn-icon btn-default" ng-class="{'bg-info':btn.discussed, 'btn-default':!btn.discussed}"  data-toggle="tooltip" title="Discussed" data-placement="bottom" ng-click="onFilter('Discussed')">
						<i class="fa fa-comments" aria-hidden="true"></i>
					</button>
					<button class="btn btn-sm btn-icon text-mute btn-default" ng-class="{'btn-danger':btn.flagged, 'btn-default':!btn.flagged}"  data-toggle="tooltip" title="Flagged" data-placement="bottom" ng-click="onFilter('Flagged')">
						<i class="fa fa-flag" aria-hidden="true"></i>
					</button>
					<button class="btn btn-sm btn-icon btn-default" ng-class="{'btn-info':btn.total, 'btn-default':!btn.total}"  data-toggle="tooltip" title="Show All" data-placement="bottom" ng-click="onFilter('Total')">
						<i class=""></i><label><b>ALL</b></label>
					</button>
			  			    
					<button ng-show="mobflag==1" class="btn btn-sm btn-icon bg-wakeup-pending pull-right" style="margin-right: 5px" data-toggle="tooltip" title="Pending" data-placement="bottom" ng-click="getSelectedItems(models[0],models[0].items,'trgt')">
						<i class="fa fa-hand-o-right fa-fw"></i>
					</button>
				</div>
			</div>
			<!-- / header -->

			<!-- Grid Table -->
			<div class="bg-light lter" style="width:100%; padding: 0px; margin: 0px">
				<div style="position: absolute;left: 1%;top: 40%;  z-index: 100; background: #F5F5F5" ng-show="mobflag == 1">			
					<div>		
						<button type="button" class="btn btn-bg btn-lg btn-default" ng-click="onScrollUpLeftPanel()">
							<i class="fa fa-angle-up"></i>
						</button>
					</div>
					<div style="margin-top: 50px">
						<button type="button" class="btn btn-bg btn-lg btn-default" ng-click="onScrollDownLeftPanel()">
							<i class="fa fa-angle-down"></i>
						</button>
					</div>	
			    </div>

				<ul id="list_ticket" class="list-group list-group-lg no-radius table-striped m-b-none m-t-n-xxs"
					dnd-list dnd-drop="onDrop(models[0], item, index)" fill-height additional-padding="50">
				  	<li ng-repeat="item in models[0].items" 
				  		class="list-group-item {{gs.getStatusCss(item)}} {{gs.getLevelCss(item)}} clearfix b-l-5x {{gs.getTicketTypeCss(item)}}"
				  		style="padding-bottom: 0px"
				  		dnd-draggable="getSelectedItemsIncluding(models[0], item)"
				      	dnd-dragstart="onDragstart(models[0], event)"
				      	dnd-moved="onMoved(models[0])"
				      	dnd-dragend="models[0].dragging = false"
				      	dnd-selected="item.selected = !item.selected"
		          		ng-class="{'selected': item.selected}"
			        	ng-hide="models[0].dragging && item.selected">					        
					    <div class="clear" style="padding: 0px">				      
					    	<div class="clear">  
					    	   <label class="font-bold"><i class="fa fa-id-badge" style="font-size: 17px; color: #1565C0"></i>&nbsp;{{getTicketNumber(item)}}</label>&nbsp;|
					    	  	<label><i class="fa fa-map-marker text-danger" ></i> {{item.lgm_type}} {{item.lgm_name}} </label>&nbsp;|&nbsp;<a class="text-md" aria-hidden="true" ng-click="viewDetail(item)"><i class="fa fa-search-plus text-primary"></i></a>
								
								&nbsp;
					    	  	<a class="dropdown pos-stc" ng-show="item.cnt > 0">
									<label ng-click="viewSimilarComplaint()" class="text-danger font-bold text-xs"
								  	style="cursor: pointer"><i class="fa fa-history text-danger"></i>&nbsp;{{item.cnt}} Similar complaints
								  	</label>
								</a>

								<span class="label m-l-sm" 
										ng-class="{'bg-info':$index == 0, 'bg-primary':$index == 1, 'bg-warning':$index == 2, 'bg-danger':$index == 3}" 
										ng-repeat="dept in item.dept_list | limitTo:4" >
						    		{{dept.short_code}}
								</span>
								

					    	  	<label class="pull-right font-bold">
					    	  		<a class="text-sm"><i class="fa fa-calendar text-primary"></i>
							      		&nbsp;{{getTime(item)}}
							      	</a>
							    </label>
					    	</div>
					    	
					    	<div class="text-ellipsis text-sm clear" style=" width: 100%; margin: 0px"> 
							    <i class="glyphicon glyphicon-user text-success"></i>&nbsp;{{item.guest_name}}&nbsp;|&nbsp;
							    <i class="fa fa-male text-warning-dker" ng-show="item.guest_type == 'Walk-in'"></i>
					    		<i class="fa fa-bank text-warning-dker" ng-show="item.guest_type == 'In-House'"></i>
					    		<i class="fa fa-bank text-warning-dker" ng-show="item.guest_type == 'Checkout'"></i>
					    			&nbsp;{{item.guest_type}} 

					    		

								|
					    			&nbsp;<i class="fa fa-exclamation-triangle text-danger" ng-if="item.severity_name == 'Serious'"></i>
					    		<i class="fa fa-exclamation-circle text-danger" ng-if="item.severity_name == 'Major'"></i>
					    		<i class="fa fa-exclamation-circle text-warning-dker" ng-if="item.severity_name == 'Moderate'"></i>
					    		<i class="fa fa-exclamation-circle text-primary" ng-if="item.severity_name == 'Minor'"></i>
<i class="fa fa-info-circle text-info" ng-if="item.severity_name == 'Informational'"></i>
&nbsp;{{::item.severity_name}}

								&nbsp;	
						      	<span class="label m-l-sm bg-wakeup-waiting" ng-show="item.category_name">{{item.category_name}}
								</span>
									
							    <div class="pull-right" style="margin-right: 6px; margin-top: -1px">
							      	<span class="" ng-class="{'label' : true, 'm-l-sm': true,
								    							'bg-wakeup-pending': item.status == 'Pending',
								    							'bg-wakeup-waiting': item.status == 'Acknowledge',
								    							'bg-wakeup-success': item.status == 'Resolved',
								    							'bg-wakeup-no-answer': item.status == 'No Answer',
								    							'bg-wakeup-not-confirm': item.status == 'Not Confirmed',
								    							'bg-wakeup-canceled': item.status == 'Rejected',
								    							'bg-wakeup-failed': item.status == 'Failed',	
								    							'bg-wakeup-in-progress': item.status == 'Forwarded',
								    							'bg-complaint-unresolved': item.status == 'Unresolved',
								    						}">{{item.status}}
									</span>
								</div>
					    	</div>
					    	
					    	<div class="text-ellipsis text-sm" style="width: 100%; margin-top: 5px">
							    <label  style="width: 70%;
													  white-space: nowrap;
													  text-overflow: ellipsis;
													  overflow: hidden;
													  text-overflow: ellipsis;
														-o-text-overflow: ellipsis;">
											<i class="fa fa-exclamation-circle text-danger"></i>&nbsp;{{item.comment}}
								</label>
								<div class="text-ellipsis text-sm" style="width: 100%; margin-top: 0px">
							    <label  style="width: 70%;
													  white-space: nowrap;
													  text-overflow: ellipsis;
													  overflow: hidden;
													  text-overflow: ellipsis;
														-o-text-overflow: ellipsis;">
														
								<i class="fa fa-tags text-primary" aria-hidden="true" ng-show="item.send_flag==1"></i>
								<span class="label m-l-sm"
								        
										ng-class="{'bg-default':$index == 0, 'bg-info':$index == 1, 'bg-warning':$index == 2, 'bg-danger':$index == 3, 'bg-wakeup-waiting':$index == 4, 'bg-primary':$index == 5}"
										ng-repeat="depts in item.selected_ids | limitTo:11" >
						    		{{::depts.short_code}}
								</span>
							    </label>
							    <div ng-show="item.total > 0" class="text-ellipsis text-sm pull-right"
							      		style="font-size: 10px; width: 200px">
									<uib-progressbar class="progress-striped progress-sm" style="margin: 5px" value="getProcess(item)" type="info">											
									</uib-progressbar>		      											
								</div>
								</div>
							</div>
					    </div>			
				  	</li>				  	
				</ul>
			</div>
		</div>

		<div class="b-r col-sm-6" style="padding: 3px" ng-hide="collapsed">
			<!-- header -->
			<div class="wrapper bg-light lter b-b">
				<div class="btn-group pull-right">
					<button type="button" class="btn btn-sm btn-bg btn-default">
					  {{models[1].items.length}} Items
					</button>					
			  	</div>
			  	<div ng-show="mobflag==1 && discuss_started == false" class="pull-right" style="margin-right: 5px">
					<button class="btn btn-sm btn-icon bg-wakeup-pending" ng-click="getSelectedItems(models[1],models[1].items,'src')">
						<i class="fa fa-hand-o-left fa-fw"></i>
					</button>
				
					<button class="btn btn-sm btn-icon bg-wakeup-pending" ng-click="getSelectedItems(models[1],models[1].items,'trgt1')">
						<i class="fa fa-hand-o-up fa-fw"></i>
					</button>
					<button class="btn btn-sm btn-icon bg-wakeup-pending" ng-click="getSelectedItems(models[1],models[1].items,'trgt2')">
						<i class="fa fa-hand-o-down fa-fw"></i>
					</button>
				</div>



			  	<div class="btn-toolbar" style="padding-left: 2px">					
					<button type="button" class="btn btn-sm btn-bg btn-dark" ng-show="!discuss_started" ng-click="toggleDiscuss()">
					  	<span class="text-success font-bold">
					  		<i class="fa fa-play"></i> Start Briefing
					  	</span>
					</button>					
						
					<div class="btn-group dropdown" style="float: none">
	                  	<button class="btn btn-default">&nbsp;Group By</button>
		                
			        	<button class="btn btn-default" data-toggle="dropdown" aria-expanded="false">
			        		<span class="caret"></span>
			        	</button>
			        	<ul class="dropdown-menu w1" aria-labelledby="single-button">
				        	<li ng-click="onGroupBy('Department');">
			        			<a href=""><label>By Department</label></a>
							</li>
			        		<li ng-click="onGroupBy('Severity');">
			        			<a href=""><label>Severity</label></a>
							</li>
			        		<li ng-click="onGroupBy('Status');">
			        			<a href=""><label>Status</label></a>
							</li>
			        	</ul>
		        	</div>
			  	</div>	
			</div>
			<!-- / header -->
			<!-- Grid Table -->
			<div class="bg-light lter" style="width:100%; padding: 0px; margin: 0px">
				<div style="position: absolute;right: 1%;top: 40%;  z-index: 100; background: #F5F5F5" ng-show="mobflag == 1">		
					<div>		
						<button type="button" class="btn btn-bg btn-lg btn-default" ng-click="onScrollUpRightPanel()">
							<i class="fa fa-angle-up"></i>
						</button>
					</div>
					<div style="margin-top: 50px">
						<button type="button" class="btn btn-bg btn-lg btn-default" ng-click="onScrollDownRightPanel()">
							<i class="fa fa-angle-down"></i>
						</button>
					</div>	
			    </div>
				<ul id="list_ticket_right" class="list-group list-group-lg no-radius table-striped m-b-none m-t-n-xxs" 
					dnd-list dnd-drop="onDrop(models[1], item, index)" fill-height additional-padding="50">
				  	<li ng-repeat="item in models[1].items" 
				  		class="list-group-item {{gs.getStatusCss(item)}} {{gs.getLevelCss(item)}} clearfix b-l-5x {{gs.getTicketTypeCss(item)}}"
				  		style="padding-bottom: 0px"
				  		dnd-draggable="getSelectedItemsIncluding(models[1], item)"
				    	dnd-dragstart="onDragstart(models[1], event)"
				    	dnd-moved="onMoved(models[1])"
				    	dnd-dragend="models[1].dragging = false"
				    	dnd-selected="onSelectTicket(item, $index)"
							ng-class="{'selected': item.selected}"
				    	ng-hide="models[1].dragging && item.selected">						
				  
						<div class="clear" style="padding: 0px">				      
						    <div class="clear">  
						        <label class="font-bold"><i class="fa fa-id-badge" style="font-size: 17px; color: #1565C0"></i>&nbsp;{{getTicketNumber(item)}}</label>&nbsp;|
						        <label><i class="fa fa-map-marker text-danger"></i> {{item.lgm_type}} {{item.lgm_name}} </label>

								&nbsp;
						        <a class="dropdown pos-stc" ng-show="item.cnt > 0">
									<label ng-click="viewSimilarComplaint()" class="text-danger font-bold text-xs"
								  	style="cursor: pointer"><i class="fa fa-history text-danger"></i>&nbsp;{{item.cnt}} Similar complaints
								  	</label>
								</a>

								<span class="label m-l-sm" 
									ng-class="{'bg-info':$index == 0, 'bg-primary':$index == 1, 'bg-warning':$index == 2, 'bg-danger':$index == 3}" 
									ng-repeat="dept in item.dept_list | limitTo:4" >
						    		{{dept.short_code}}
								</span>
								
								
						        <label class="pull-right font-bold">
						        	<a class="text-sm"><i class="fa fa-calendar text-primary"></i>&nbsp;{{getTime(item)}}</a>
								</label>
						    </div>
						   	  
						    <div class="text-ellipsis text-sm clear" style=" width: 100%; margin: 0px"> 
						      	<i class="glyphicon glyphicon-user text-success"></i>&nbsp;{{item.guest_name}}&nbsp;|&nbsp;
						      	<i class="fa fa-male text-warning-dker" ng-show="item.guest_type == 'Walk-in'"></i>
					      		<i class="fa fa-bank text-warning-dker" ng-show="item.guest_type == 'In-House'"></i>
					      		<i class="fa fa-bank text-warning-dker" ng-show="item.guest_type == 'Checkout'"></i>
						      		&nbsp;{{item.guest_type}} 

						      	&nbsp;	
						      	<span class="label m-l-sm bg-wakeup-waiting" ng-show="item.category_name">{{item.category_name}}
								</span>

								|&nbsp;<i class="fa fa-exclamation-circle text-danger"></i>&nbsp;{{::item.severity_name}}
										
						    	<div class="pull-right" style="margin-right: 6px; margin-top: -1px">
							    	<span class="" ng-class="{'label' : true, 'm-l-sm': true,
								    							'bg-wakeup-pending': item.status == 'Pending',
								    							'bg-wakeup-waiting': item.status == 'Acknowledge',
								    							'bg-wakeup-success': item.status == 'Resolved',
								    							'bg-wakeup-no-answer': item.status == 'No Answer',
								    							'bg-wakeup-not-confirm': item.status == 'Not Confirmed',
								    							'bg-wakeup-canceled': item.status == 'Rejected',
								    							'bg-wakeup-failed': item.status == 'Failed',	
								    							'bg-wakeup-in-progress': item.status == 'Forwarded',
								    							'bg-complaint-unresolved': item.status == 'Unresolved',
								    						}">{{item.status}}
									</span>
								</div>
						    </div>
						   	  
						    <div class="text-ellipsis text-sm" style="width: 100%; margin-top: 5px">
						      	<label  style="width: 70%;
														  white-space: nowrap;
														  text-overflow: ellipsis;
														  overflow: hidden;
														  text-overflow: ellipsis;
															-o-text-overflow: ellipsis;">
									<i class="fa fa-exclamation-circle text-danger"></i>&nbsp;{{item.comment}}
								</label>
								<div class="pull-right" style="margin-right: 6px; margin-top: 0px">
							  		<span class="" ng-class="{'label' : true, 'm-l-sm': true,
								    							'bg-wakeup-pending': item.dis_flag == 0,
								    							'bg-wakeup-success': item.dis_flag == 1,
								    						}">{{item.dis_flag == 0 ? 'Pending':''}}{{item.dis_flag == 1 ? 'Finished':''}}
									</span>
								</div>
								<div class="text-ellipsis text-sm" style="width: 100%; margin-top: 0px">
							    <label  style="width: 70%;
													  white-space: nowrap;
													  text-overflow: ellipsis;
													  overflow: hidden;
													  text-overflow: ellipsis;
														-o-text-overflow: ellipsis;">
														
								<i class="fa fa-tags text-primary" aria-hidden="true" ng-show="item.send_flag==1"></i>
								<span class="label m-l-sm"
								        
										ng-class="{'bg-default':$index == 0, 'bg-info':$index == 1, 'bg-warning':$index == 2, 'bg-danger':$index == 3, 'bg-wakeup-waiting':$index == 4, 'bg-primary':$index == 5}"
										ng-repeat="depts in item.selected_ids | limitTo:11" >
						    		{{::depts.short_code}}
								</span></label>

							    <div ng-show="item.total > 0" class="text-ellipsis text-sm pull-right"
								    style="font-size: 10px; width: 200px">
									<uib-progressbar class="progress-striped progress-sm" style="margin: 5px" value="getProcess(item)" type="info">										
									</uib-progressbar>		      											
								</div>
								</div> 
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>	
	</div>
</div>