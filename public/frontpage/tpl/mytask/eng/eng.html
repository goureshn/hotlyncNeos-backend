<div class="hbox" ng-controller="EngController" style="height:100%;" ng-init="asideFolded = false">
    <style>
        .tab-container .tab-content {
            padding: 0px;
        }
    </style>

    <div class="col" style="height:100%;">
        <div class="wrapper b-b bg" ng-hide="true">
            <a href="" ng-click="asideFolded = !asideFolded">
                <i class="fa fa-fw {{asideFolded ? 'fa-dedent' : 'fa-indent'}}" style=""></i>
            </a>
        </div>
        <div>
            <div class="hbox" style="height:100%;">
                <div class="col b-r" style="width:40vw;">
                    <div class="wrapper bg-light lter b-b">
                        <div class="btn-group pull-right">
                            <button type="button" class="btn btn-sm btn-bg btn-default">
                                {{paginationOptions.numberOfPages}}/{{paginationOptions.countOfPages}} - {{paginationOptions.totalItems}} Items
                            </button>
                            <button type="button" class="btn btn-sm btn-bg btn-default" ng-click="onPrevPage()" ng-disabled="paginationOptions.numberOfPages <= 1">
                                <i class="fa fa-chevron-left"></i>
                            </button>
                            <button type="button" class="btn btn-sm btn-bg btn-default" ng-click="onNextPage()" ng-disabled="paginationOptions.numberOfPages >= paginationOptions.countOfPages">
                                <i class="fa fa-chevron-right"></i>
                            </button>
                        </div>

                        <div class="btn-toolbar" style="padding-left: 2px">
                            <div class="btn-group">
                                <button id="dateranger" class="btn btn-sm btn-icon btn-default" data-toggle="tooltip" title="Filter" data-placement="bottom"
                                    ui-jq="daterangepicker" ui-options="dateRangeOption" data-title="Refresh" ng-click="onClickDateFilter()">
                                    <i class="fa fa-calendar"></i>
                                </button>

                                <button class="btn btn-sm btn-icon btn-default" data-toggle="tooltip" title="Refresh" data-placement="bottom" ng-click="refreshTickets()">
                                    <i class="fa fa-refresh"></i>
                                </button>

                            </div>

                            <div class="btn-group dropdown">
                                <button class="btn btn-sm btn-default" data-toggle="dropdown" aria-expanded="false" ng-hide="complaint.status == 2">
                                    <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu w1" aria-labelledby="single-button">
                                    <li ng-click="onFilter('Total')">
                                        <a href="">
                                            <label>ALL</label>
                                        </a>
                                    </li>
                                    <li ng-click="onFilter(1)">
                                        <a href="">
                                            <label>Pending</label>
                                        </a>
                                    </li>
                                    <li ng-click="onFilter(2)">
                                        <a href="">
                                            <label>In-Progress</label>
                                        </a>
                                    </li>
                                    <li ng-click="onFilter(3)">
                                        <a href="">
                                            <label>Resolved</label>
                                        </a>
                                    </li>
                                    <li ng-click="onFilter(4)">
                                        <a href="">
                                            <label>Re-opened</label>
                                        </a>
                                    </li>
                                    <li ng-click="onFilter(5)">
                                        <a href="">
                                            <label>Closed</label>
                                        </a>
                                    </li>
                                    <li ng-click="onFilter(6)">
                                        <a href="">
                                            <label>Rejected</label>
                                        </a>
                                    </li>
                                    <li ng-click="onFilter(7)">
                                        <a href="">
                                            <label>Awaiting Approval</label>
                                        </a>
                                    </li>
                                    <li ng-click="onFilter(8)">
                                        <a href="">
                                            <label>Acknowledged</label>
                                        </a>
                                    </li>

                                    <!--<li class="divider"></li>-->
                                </ul>
                            </div>
                            <div class="btn-group pull-right" style="margin-right: 20px;margin-top: 5px;">
                                <a ng-click="onDownloadExcel()">
                                    <i class="fa fa-file-excel-o" style="font-size: 20px; color:green" aria-hidden="true" title="Summary Excel download"></i>
                                </a>
                            </div>


                        </div>
                    </div>

                    <!-- / header -->

                    <!-- list -->
                    <ul id="list_ticket" class="list-group list-group-lg no-radius m-b-none m-t-n-xxs" style="{{detail_view_height}}">

                        <li ng-repeat="row in ticketlist" class="list-group-item  clearfix b-l-5x " ng-class="{'active': row.active}">

                            <div class="clear" ng-click="onSelectTicket(row, $event, 1)">
                                <div class="clear">
                                    <label class="font-bold">
                                        <i class="fa fa-cog" style="font-size: 17px; color: #FF0000"></i>&nbsp; {{getTicketNumber(row)}}
                                    </label>&nbsp;|
                                    <label>{{row.category}} </label>&nbsp;|
                                    <label>{{row.subject}} </label>
                                    <label class="pull-right font-bold">
                                        <a class="text-sm">
                                            <i class="fa fa-calendar text-primary"></i>
                                            &nbsp;{{row.created_at| mydatetime : 'D MMM YYYY hh:mm a'}}</a>
                                    </label>
                                </div>

                                <div class="text-ellipsis text-sm clear" style=" width: 100%; margin: 0px">
                                    &nbsp; Requestor: {{row.first_name}} &nbsp;| Loc: {{row.location}} &nbsp;
                                    <span ng-show="row.assignee!=''">| Asgn: {{row.assignee}} &nbsp;</span>

                                    <div class="pull-right" style="margin-right: 6px; margin-top: -1px">
                                        <span ng-class="{'label' : true, 'm-l-sm': true,
                                          'bg-wakeup-pending ': row.status == 'Pending',
                                          'bg-wakeup-success': row.status == 'In-Progress',
                                         'bg-wakeup-no-answer': row.status == 'Acknowledge',
                                          'bg-all': row.status == 'Resolved',
                                          'bg-complaint-ack': row.status == 'Re-Opened',
                                          'bg-wakeup-in-progress': row.status == 'Closed',
                                          'bg-wakeup-failed': row.status == 'Rejected',
                                          'bg-wakeup-busy': row.status == 'Awaiting Approval'
                                            }">

                                            {{row.status == 'Pending' ? 'Pending' : ''}} {{row.status == 'In-Progress' ? 'In-Progress' : ''}} {{row.status == 'Acknowledge'
                                            ? 'Acknowledge' : ''}} {{row.status == 'Resolved' ? 'Resolved' : ''}} {{row.status
                                            == 'Re-Opened' ? 'Re-Opened' : ''}} {{row.status == 'Closed' ? 'Closed' : ''}}
                                            {{row.status == 'Rejected' ? 'Rejected' : ''}} {{row.status == 'Awaiting Approval'
                                            ? 'Awaiting Approval' : ''}}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="col">
                    <div class="wrapper bg-light lter b-b" style="text-align: center">
                        <a class="btn btn-sm w-xs font-bold" ng-show="select_status[1]" disabled>{{getTicketNumber(selectedTicket[0])}}</a>
                        <a class="btn btn-sm w-xs font-bold" ng-show="select_status[0]" disabled>New Request</a>
                        <button type="button" class="col-sm-2 btn btn-sm m-b-xs w-xs btn-light text-success font-bold" style="background-color: white;border-color:rgb(238, 236, 236)"
                            ng-click="onCreateNew()">
                            <span class="text-success">
                                <i class="fa fa-plus" aria-hidden="true"></i>&nbsp;Create</span>
                        </button>
                    </div>

                    <div style="{{detail_view_height}} padding: 15px">
                        <div ng-show="select_status[1]" ng-if="select_status[1] == true" class="stretch" style="" ng-include="'tpl/mytask/eng/eng_edit.html'"
                            ng-controller="EngEditController">
                        </div>
                        <div ng-show="select_status[0]" ng-if="select_status[0] == true" class="stretch" style="" ng-include="'tpl/mytask/eng/eng_create.html'"
                            ng-controller="EngCreateController">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
