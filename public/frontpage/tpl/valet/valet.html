<div class="hbox" ng-controller="ValetController" >
    <style>
        .tab-container .tab-content {
            padding: 0px;
        }
        .nopadding {
            padding: 0 !important;
            margin: 0 !important;
        }
        .splitdiv{
            border-right:1px solid #d7d6d4;
            border-bottom: 1px solid #d7d6d4;
        }
    </style>

    <div>
        <div class="hbox" style="height:0px;;">
            <div class="col b-r" style="width:70vw;" >
                <div class="wrapper bg-light lter b-b"  >
                    <div class="btn-group pull-right">
                        <button type="button" class="btn btn-sm btn-bg btn-default">
                            {{paginationOptions.numberOfPages}}/{{paginationOptions.countOfPages}} - {{paginationOptions.totalItems}} Items
                        </button>
                        <button type="button" class="btn btn-sm btn-bg btn-default" ng-click="onPrevPage()" ng-disabled="paginationOptions.numberOfPages <= 1">
                            <i class="fa fa-chevron-left"></i>
                        </button>
                        <button type="button" class="btn btn-sm btn-bg btn-default" ng-click="onNextPage()"
                                ng-disabled="paginationOptions.numberOfPages >= paginationOptions.countOfPages">
                            <i class="fa fa-chevron-right"></i>
                        </button>
                    </div>

                    <div class="btn-toolbar" style="padding-left: 2px">
                        <div class="btn-group">
                            <h3 class="m-n font-thin" style="color: #5fbae8;">Valet Request &nbsp;&nbsp;</h3>
                        </div>
                        <div class="btn-group">
                            <button id="dateranger" class="btn btn-sm btn-icon btn-default" data-toggle="tooltip" title="Filter" data-placement="bottom"
                                    data-title="Refresh" ui-jq="daterangepicker" ui-options="dateRangeOption" class="form-control pull-right input-sm">
                                <i class="glyphicon glyphicon-calendar"></i>
                            </button>
                        </div>
                        <div class="input-group col-sm-2 pull-left">
                            <select class='col-sm-3 form-control input-sm' ng-model="searchoption"
                                    ng-options="value for value in searchoptions" />
                        </div>
                        <div class="input-group col-md-3 pull-left">
                            <input type="text" ng-model="searchtext" ng-keyup="pageChanged()" class="form-control input-sm bg-light no-border rounded padder" placeholder="Search">
                              <span class="input-group-btn">
                                <button type="submit" class="btn btn-sm bg-light rounded"><i class="fa fa-search"></i></button>
                              </span>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <div class="row wrapper bg-light lter b-b"  >
                    <div class="col-sm-12  pull-right" style="text-align: right;">
                        <button type="button" class="btn btn-sm btn-bg btn-default" ng-click="Close()" ng-show="detailview">
                            <i class="fa fa-window-close" aria-hidden="true"></i>&nbsp;Close
                        </button>
                        <button type="button" class="btn btn-sm btn-bg btn-default" ng-click="onChangeStatus('create')">
                            <i class="fa fa-plus-circle"></i>&nbsp;Create
                        </button>
                        <button type="button" class="btn btn-sm btn-bg btn-default" ng-click="onChangeStatus('edit')">
                            <i class="fa fa-pencil-square-o"></i>&nbsp;Edit
                        </button>
                        <button type="button" class="btn btn-sm btn-bg btn-default" ng-click="Delete()">
                            <i class="fa  fa-eraser"></i>&nbsp;Delete
                        </button>
                    </div>
                </div>
            </div>
        </div>


        <div >
            <div class="row {{listview_width}} nopadding" >
                <div class="col-sm-2 nopadding" >
                    <div class="splitdiv" >
                       <h4><strong style="margin-left: 5px;">Pending</strong></h4>
                    </div>
                    <div fill-height additional-padding="100">
                        <ul class="list-group list-group-lg no-radius m-b-none m-t-n-xxs">
                            <li ng-repeat="row in ticketlist" ng-if="row.status == 'Pending'"
                                class="list-group-item {{gs.getStatusCss(row)}} {{gs.getLevelCss(row)}} clearfix b-l-5x {{gs.getTicketTypeCss(row)}}"
                                style="padding-left:0px; padding-right: 0px;">
                                <div class="clear col-sm-9" style="padding-left:3px;padding-right: 0px;" ng-click="onSelectTicket(row, $event, 1)">
                                    <div class="clear">
                                        <label class="font-bold" >
                                            <i class="fa fa-cog"></i>&nbsp;
                                            V-{{getTicketNumber(row)}}
                                        </label>
                                        <label class="pull-right font-bold">
                                            <a class="text-sm small" >Due:{{row.purpose_end_date | mydate }}</a>
                                        </label>
                                    </div>
                                    <div class="text-ellipsis text-sm clear small" >
                                        Location: {{row.equipment_location.type}} {{row.equipment_location.name}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small">
                                        Type: {{row.work_order_type}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small" >
                                        Time spent: {{row.duration}}
                                    </div>
                                </div>
                                <div class="clear col-sm-2" style="padding-left:3px;padding-right:3px;" ng-click="onSelectTicket(row, $event, 1)">
                                    <div class="clear">
                                        <span class="thumb-sm avatar pull-right thumb-xs m-r-xs">
                                            <img ng-if="row.picture != '' " ng-src="{{row.picture}}" alt="...">
                                        </span>
                                    </div >
                                    <div class="text-ellipsis text-sm clear small">
                                        {{row.staff_name}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small">
                                        Cost:
                                    </div>
                                    <div ng-if="row.duration == 0" class="text-ellipsis text-sm clear small">
                                        AED {{row.staff_cost+row.part_cost}}
                                    </div>
                                    <div ng-if="row.duration != 0" class="text-ellipsis text-sm clear small">
                                        AED {{row.staff_cost*duration+row.part_cost}}
                                    </div>
                                </div>
                            </li>
                        </ul>
                      </div>
                </div>
                <!--2 column-->
                <div class="col-sm-2 nopadding">
                    <div class="splitdiv">
                        <h4><strong style="margin-left: 5px;">In-Progress</strong></h4>
                    </div>
                    <div fill-height additional-padding="100" >
                        <ul class="list-group list-group-lg no-radius m-b-none m-t-n-xxs">
                            <li ng-repeat="row in ticketlist" ng-if="row.status == 'In Progress'"
                                class="list-group-item {{gs.getStatusCss(row)}} {{gs.getLevelCss(row)}} clearfix b-l-5x {{gs.getTicketTypeCss(row)}}"
                                style="padding-left:0px; padding-right: 0px;">
                                <div class="clear col-sm-9" style="padding-left:3px;padding-right: 0px;" ng-click="onSelectTicket(row, $event, 1)">
                                    <div class="clear">
                                        <label class="font-bold" >
                                            <i class="fa fa-cog"></i>&nbsp;
                                            WO-{{getTicketNumber(row)}}
                                        </label>
                                        <label class="pull-right font-bold">
                                            <a class="text-sm small" >Due:{{row.purpose_end_date | mydate }}</a>
                                        </label>
                                    </div>
                                    <div class="text-ellipsis text-sm clear small" >
                                        Location: {{row.equipment_location.type}} {{row.equipment_location.name}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small">
                                        Type: {{row.work_order_type}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small" >
                                        Time spent: {{row.duaration}}
                                    </div>
                                </div>
                                <div class="clear col-sm-2" style="padding-left:3px;padding-right:3px;" ng-click="onSelectTicket(row, $event, 1)">
                                    <div class="clear">
                                        <span class="thumb-sm avatar pull-right thumb-xs m-r-xs">
                                            <img ng-if="row.picture != ''" ng-src="{{row.picture}}" alt="...">
                                        </span>
                                    </div >
                                    <div class="text-ellipsis text-sm clear small">
                                        {{row.staff_name}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small">
                                        Cost:
                                    </div>
                                    <div ng-if="row.duration == 0" class="text-ellipsis text-sm clear small">
                                        AED {{row.staff_cost+row.part_cost}}
                                    </div>
                                    <div ng-if="row.duration != 0" class="text-ellipsis text-sm clear small">
                                        AED {{row.staff_cost*duration+row.part_cost}}
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <!--3-->
                <div class="col-sm-2 nopadding">
                    <div class="splitdiv" >
                        <h4><strong style="margin-left: 5px;">Parked</strong></h4>
                    </div>
                    <div style="{{splitdiv_height}}">
                        <ul class="list-group list-group-lg no-radius m-b-none m-t-n-xxs">
                            <li ng-repeat="row in ticketlist" ng-if="row.status == 'On Hold'"
                                class="list-group-item {{gs.getStatusCss(row)}} {{gs.getLevelCss(row)}} clearfix b-l-5x {{gs.getTicketTypeCss(row)}}"
                                style="padding-left:0px; padding-right: 0px;">
                                <div class="clear col-sm-9" style="padding-left:3px;padding-right: 0px;" ng-click="onSelectTicket(row, $event, 1)">
                                    <div class="clear">
                                        <label class="font-bold" >
                                            <i class="fa fa-cog"></i>&nbsp;
                                            WO-{{getTicketNumber(row)}}
                                        </label>
                                        <label class="pull-right font-bold">
                                            <a class="text-sm small" >Due:{{row.purpose_end_date | mydate }}</a>
                                        </label>
                                    </div>
                                    <div class="text-ellipsis text-sm clear small" >
                                        Location: {{row.equipment_location.type}} {{row.equipment_location.name}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small">
                                        Type: {{row.work_order_type}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small" >
                                        Time spent: {{row.duration}}
                                    </div>
                                </div>
                                <div class="clear col-sm-2" style="padding-left:3px;padding-right:3px;" ng-click="onSelectTicket(row, $event, 1)">
                                    <div class="clear">
                                        <span class="thumb-sm avatar pull-right thumb-xs m-r-xs">
                                            <img ng-if="row.picture != ''" ng-src="{{row.picture}}" alt="...">
                                        </span>
                                    </div >
                                    <div class="text-ellipsis text-sm clear small">
                                        {{row.staff_name}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small">
                                        Cost:
                                    </div>
                                    <div ng-if="row.duration == 0" class="text-ellipsis text-sm clear small">
                                        AED {{row.staff_cost+row.part_cost}}
                                    </div>
                                    <div ng-if="row.duration != 0" class="text-ellipsis text-sm clear small">
                                        AED {{row.staff_cost*duration+row.part_cost}}
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <!--4-->
                <div class="col-sm-2 nopadding">
                    <div class="splitdiv">
                        <h4><strong style="margin-left: 5px;">Fetched</strong></h4>
                    </div>
                    <div style="{{splitdiv_height}}">
                        <ul class="list-group list-group-lg no-radius m-b-none m-t-n-xxs">
                            <li ng-repeat="row in ticketlist"   ng-if="row.status == 'Completed'"
                                class="list-group-item {{gs.getStatusCss(row)}} {{gs.getLevelCss(row)}} clearfix b-l-5x {{gs.getTicketTypeCss(row)}}"
                                style="padding-left:0px; padding-right: 0px;">
                                <div class="clear col-sm-9" style="padding-left:3px;padding-right: 0px;" ng-click="onSelectTicket(row, $event, 1)">
                                    <div class="clear">
                                        <label class="font-bold" >
                                            <i class="fa fa-cog"></i>&nbsp;
                                            WO-{{getTicketNumber(row)}}
                                        </label>
                                        <label class="pull-right font-bold">
                                            <a class="text-sm small" >Due:{{row.purpose_end_date | mydate }}</a>
                                        </label>
                                    </div>
                                    <div class="text-ellipsis text-sm clear small" >
                                        Location: {{row.equipment_location.type}} {{row.equipment_location.name}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small">
                                        Type: {{row.work_order_type}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small" >
                                        Time spent: {{row.duration}}
                                    </div>
                                </div>
                                <div class="clear col-sm-2" style="padding-left:3px;padding-right:3px;" ng-click="onSelectTicket(row, $event, 1)">
                                    <div class="clear">
                                        <span class="thumb-sm avatar pull-right thumb-xs m-r-xs">
                                            <img ng-if="row.picture != ''" ng-src="{{row.picture}}" alt="...">
                                        </span>
                                    </div >
                                    <div class="text-ellipsis text-sm clear small">
                                        {{row.staff_name}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small">
                                        Cost:
                                    </div>
                                    <div ng-if="row.duration == 0" class="text-ellipsis text-sm clear small">
                                        AED {{row.staff_cost+row.part_cost}}
                                    </div>
                                    <div ng-if="row.duration != 0" class="text-ellipsis text-sm clear small">
                                        AED {{row.staff_cost*duration+row.part_cost}}
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <!---->
           
            <div class="col-sm-2 nopadding">
                    <div class="splitdiv">
                        <h4><strong style="margin-left: 5px;">Waiting</strong></h4>
                    </div>
                    <div style="{{splitdiv_height}}">
                        <ul class="list-group list-group-lg no-radius m-b-none m-t-n-xxs">
                            <li ng-repeat="row in ticketlist"   ng-if="row.status == 'Completed'"
                                class="list-group-item {{gs.getStatusCss(row)}} {{gs.getLevelCss(row)}} clearfix b-l-5x {{gs.getTicketTypeCss(row)}}"
                                style="padding-left:0px; padding-right: 0px;">
                                <div class="clear col-sm-9" style="padding-left:3px;padding-right: 0px;" ng-click="onSelectTicket(row, $event, 1)">
                                    <div class="clear">
                                        <label class="font-bold" >
                                            <i class="fa fa-cog"></i>&nbsp;
                                            WO-{{getTicketNumber(row)}}
                                        </label>
                                        <label class="pull-right font-bold">
                                            <a class="text-sm small" >Due:{{row.purpose_end_date | mydate }}</a>
                                        </label>
                                    </div>
                                    <div class="text-ellipsis text-sm clear small" >
                                        Location: {{row.equipment_location.type}} {{row.equipment_location.name}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small">
                                        Type: {{row.work_order_type}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small" >
                                        Time spent: {{row.duration}}
                                    </div>
                                </div>
                                <div class="clear col-sm-2" style="padding-left:3px;padding-right:3px;" ng-click="onSelectTicket(row, $event, 1)">
                                    <div class="clear">
                                        <span class="thumb-sm avatar pull-right thumb-xs m-r-xs">
                                            <img ng-if="row.picture != ''" ng-src="{{row.picture}}" alt="...">
                                        </span>
                                    </div >
                                    <div class="text-ellipsis text-sm clear small">
                                        {{row.staff_name}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small">
                                        Cost:
                                    </div>
                                    <div ng-if="row.duration == 0" class="text-ellipsis text-sm clear small">
                                        AED {{row.staff_cost+row.part_cost}}
                                    </div>
                                    <div ng-if="row.duration != 0" class="text-ellipsis text-sm clear small">
                                        AED {{row.staff_cost*duration+row.part_cost}}
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <!---->
           
            <div class="col-sm-2 nopadding">
                    <div class="splitdiv">
                        <h4><strong style="margin-left: 5px;">Handed Over</strong></h4>
                    </div>
                    <div style="{{splitdiv_height}}">
                        <ul class="list-group list-group-lg no-radius m-b-none m-t-n-xxs">
                            <li ng-repeat="row in ticketlist"   ng-if="row.status == 'Completed'"
                                class="list-group-item {{gs.getStatusCss(row)}} {{gs.getLevelCss(row)}} clearfix b-l-5x {{gs.getTicketTypeCss(row)}}"
                                style="padding-left:0px; padding-right: 0px;">
                                <div class="clear col-sm-9" style="padding-left:3px;padding-right: 0px;" ng-click="onSelectTicket(row, $event, 1)">
                                    <div class="clear">
                                        <label class="font-bold" >
                                            <i class="fa fa-cog"></i>&nbsp;
                                            WO-{{getTicketNumber(row)}}
                                        </label>
                                        <label class="pull-right font-bold">
                                            <a class="text-sm small" >Due:{{row.purpose_end_date | mydate }}</a>
                                        </label>
                                    </div>
                                    <div class="text-ellipsis text-sm clear small" >
                                        Location: {{row.equipment_location.type}} {{row.equipment_location.name}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small">
                                        Type: {{row.work_order_type}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small" >
                                        Time spent: {{row.duration}}
                                    </div>
                                </div>
                                <div class="clear col-sm-2" style="padding-left:3px;padding-right:3px;" ng-click="onSelectTicket(row, $event, 1)">
                                    <div class="clear">
                                        <span class="thumb-sm avatar pull-right thumb-xs m-r-xs">
                                            <img ng-if="row.picture != ''" ng-src="{{row.picture}}" alt="...">
                                        </span>
                                    </div >
                                    <div class="text-ellipsis text-sm clear small">
                                        {{row.staff_name}}
                                    </div>
                                    <div class="text-ellipsis text-sm clear small">
                                        Cost:
                                    </div>
                                    <div ng-if="row.duration == 0" class="text-ellipsis text-sm clear small">
                                        AED {{row.staff_cost+row.part_cost}}
                                    </div>
                                    <div ng-if="row.duration != 0" class="text-ellipsis text-sm clear small">
                                        AED {{row.staff_cost*duration+row.part_cost}}
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <!---->
            </div>
         </div>



            <div class="{{detailview_width}} nopadding" ng-show="detailview" >
                <div  style="{{detail_view_height}}" ng-show="select_status[0]" ng-if="select_status[0] == true" >
                    <div   ng-include="'tpl/valet/valet_create.html'" ng-controller="ValetCreateController">
                    </div>
                </div>

                <div  style="{{detail_view_height}}" ng-show="select_status[1]" ng-if="select_status[1] == true" >
                    <div   ng-include="'tpl/valet/valet_edit.html'" ng-controller="ValetEditController" >
                    </div>
                </div>
                <div  style="{{detail_view_height}}" ng-if="select_status[2] == true || select_status[3] == true || select_status[4] == true  "  >
                    <uib-tabset active="active" >
                        <div class="tabs tabs-style-tzoid pull-left" >
                            <nav ui-nav class="call_menu navi clearfix" >
                                <ul class="tabs-style-tzoid nav" style="height:40px;max-width:1500px;">
                                    <li style="margin:8px -5px 0px;" class="{{active == 1 ? 'tab-current' : ''}}" >
                                        <uib-tab index="1"  ng-click="onChangeStatus('detail')">
                                            <uib-tab-heading>
                                                <p class="tabs-style-tzoid" style="color:#fff; font-size:12px"><i class="fa  fa-address-book fa-lg"></i>&nbsp;&nbsp;<b>Details</b></p>
                                            </uib-tab-heading>
                                            <div  style="{{tab_full_height}};"   ng-include="'tpl/valet/valet_detail.html'" ng-controller="ValetDetailController" ng-init="getValetDetail" >
                                            </div>
                                        </uib-tab>
                                    </li>
                                    <li style="margin:8px -5px 0px;" class="{{active == 3 ? 'tab-current' : ''}}"  ng-click="onChangeStatus('update')" >
                                        <uib-tab index="3">
                                            <uib-tab-heading>
                                                <p class="tabs-style-tzoid" style="color:#fff; font-size:12px"><i class="fa fa-sort-amount-asc fa-lg"></i>&nbsp;&nbsp;<b>Update</b></p>
                                            </uib-tab-heading>
                                            <div style="{{tab_full_height}}"  ng-show="select_status[3]" ng-if="select_status[3]"  ng-include="'tpl/valet/valet_update.html'"  ng-controller="ValetUpdateController" >
                                            </div>
                                        </uib-tab>
                                    </li>
                                   
                                </ul>
                            </nav>
                        </div>
                    </uib-tabset>
                </div>
            </div>

        </div>
    </div>
</div>