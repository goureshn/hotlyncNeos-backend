<div ng-controller="MinibarReportController">
    <style>
        .datetime .popover {
            max-width: 650px;
        }
    </style>
    <script type="text/ng-template" id="datetime_ranger.html">
        <div style="width: 700px">
            <div rg-range-picker="myDatetimeRange" labels="myDatetimeLabels"></div>
        </div>
    </script>

    <div class="col-lg-12 col-centered">
        <div class="panel-default">
            <div class="form-horizontal" ng-show="!data.isHidden" style="`width:100%; margin: auto;">
                <div class="row form-group" style="width:100%; margin:auto;">
                    <div class="form-horizontal form-validation" style="float:left; width:100%; height:20%; display:inline-block;">
	                    <div class="fieldset1 panel panel-default" style="border-radius: 4px">
							          <div class="panel-heading">
													<div>
														<label class="font-bold text-sm"><i class="fa fa-columns text-default"></i>&nbsp;&nbsp;Grouping</label>&nbsp;&nbsp;
													</div>
												</div>
												<div style="padding-top: px">
													<form class="form-horizontal form-validation">
														<div class="col-sm-12">
															<label class="control-label text-xs text-muted">Report Type : </label>
					                    <select class='form-control' ng-model="report_type" ng-change="onChangeReportType()" ng-options="type for type in reporttypes">
                              </select>
					                  </div>
														<div class="col-sm-12" ng-hide="report_type == 'Stock'">
															<label class="control-label text-xs text-muted">Report By : </label>
					                    <select class='form-control' ng-model="report_by" ng-disabled="!report_type" ng-change="onChangeReportBy()" ng-options="type for type in reportby_list" >
                              </select>
                                      </div>
                                      <div class="col-sm-12" ng-show="buildings.length > 1">
										<label class="control-label text-xs text-muted">Building : </label>
										<div ng-dropdown-multiselect="" options="buildings" selected-model="building" checkboxes="true" extra-settings="buildings_hint_setting" translation-texts="buildings_hint"></div>
									</div>
					                </form>
												</div>
						          </div>
						          <div class="fieldset2 panel panel-default" style="border-radius: 4px; width: 80%">
							          <div class="panel-heading">
													<div>
														<button type="submit" class="btn btn-sm btn-info pull-right" onclick="loadBlockingUi();" ng-click="onGenerateReport()" style="margin-top: -5px">
					                      <i class="fa fa-file-text"></i>&nbsp;&nbsp;Generate Report
					                    </button>
					                    
									            <button type="submit" class="btn btn-sm btn-default pull-right" style="color: white; background-color:#a9a9a9; margin-top: -5px; margin-right: 2px" ng-if="!auth_svc.isValidModule('app.reports.schedule')">
					                      <i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;Schedule Report</button>
									            <button type="submit" class="btn btn-sm btn-info pull-right" ng-if="auth_svc.isValidModule('app.reports.schedule')" ng-click="onShowSchedule()" style="margin-top: -5px; margin-right: 2px">
					                      <i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;Schedule Report
					                    </button>
					                  
														<label class="font-bold text-sm"><i class="fa fa-columns text-default"></i>&nbsp;&nbsp;Apply Filters</label>&nbsp;&nbsp;
													</div>
												</div>
												<div style="padding-top: px">
													<form class="form-horizontal form-validation" ng-hide="report_type == 'Stock'">
                                                            <div class="btn-group col-sm-12" style="margin-top: -2px">
                                                                    <label class="btn btn-info btn-sm" ng-click="dateShort('Today')" >Today</label>
                                                                    <label class="btn btn-info btn-sm" ng-click="dateShort('Yesterday')">Yesterday</label>
                                                                    <label class="btn  btn-info btn-sm" ng-click="dateShort('This Week')">This Week</label>
                                                                    <label class="btn  btn-info btn-sm" ng-click="dateShort('Last Week')">Last Week</label>
                                                                    <label class="btn  btn-info btn-sm" ng-click="dateShort('This Month')">This Month</label>
                                                                    <label class="btn  btn-info btn-sm" ng-click="dateShort('Last Month')">Last Month</label>
                                                                    <label class="btn  btn-info btn-sm" ng-click="dateShort('This Year')">This Year</label>
                                                                    <label class="btn  btn-info btn-sm" ng-click="dateShort('Custom')">Custom</label>
                                                                  </div>
                                                        <div class="col-sm-6" style="margin-top: -2px">
															<label class="control-label text-xs text-muted">Period : </label>
					                    <input type="text" ng-model="time_range" ng-disabled="date_short!='Custom'" ui-jq="daterangepicker" ui-options="dateRangeOption" class="form-control input-sm">
					                  </div>
					                  <div class="col-sm-6" style="margin-top: -2px">
															<label class="control-label text-xs text-muted">Room : </label>
					                    <tags-input ng-model="room_tags" placeholder="Add Room" style="margin-top: -7px" replace-spaces-with-dashes="false">
                                <auto-complete source="loadFilters($query, 'Room')" min-length="0" debounce-delay="0" load-on-focus="true"
                                  load-on-empty="true" max-results-to-show="100" >
                                </auto-complete>
                              </tags-input>
					                  </div>
					                  <div class="col-sm-6" style="margin-top: -2px">
															<label class="control-label text-xs text-muted">Posted By : </label>
					                    <tags-input ng-model="staff_tags" placeholder="Add Staff" style="margin-top: -7px" replace-spaces-with-dashes="false">
                                <auto-complete source="loadFilters($query, 'Posted by')" min-length="0" debounce-delay="0" load-on-focus="true"
                                  load-on-empty="true" max-results-to-show="100">
                                </auto-complete>
                              </tags-input>
					                  </div>
					                  <div class="col-sm-6" style="margin-top: -2px">
															<label class="control-label text-xs text-muted">Service Item : </label>
					                    <tags-input ng-model="item_tags" placeholder="Add Service Item" style="margin-top: -7px" replace-spaces-with-dashes="false">
                                <auto-complete source="loadFilters($query, 'Service Item')" min-length="0" debounce-delay="0" load-on-focus="true"
                                  load-on-empty="true" max-results-to-show="100">
                                </auto-complete>
                              </tags-input>
					                  </div>
													</form>
												</div>
						          </div>
                        <!--
	                      <fieldset class="fieldset1" style="min-height:200px;">
                            <legend><h5><i class="fa fa-columns"></i>&nbsp;&nbsp;Grouping</h5></legend>
                            <div class="sfield1" >
                                <div class="row form-horizontal" style="margin-bottom:3px;">
                                    <label class="col-sm-5 control-label" style="white-space: nowrap;">Report Type : </label>
                                    <div class="col-sm-7">
                                        <select class='form-control' ng-model="report_type" ng-change="onChangeReportType()"
                                                ng-options="type for type in reporttypes">
                                        </select>
                                    </div>
                                </div>
                                <div class="row form-horizontal" style="margin-bottom:3px;">
                                    <label class="col-sm-5 control-label" style="white-space: nowrap;">Report By :</label>
                                    <div class="col-sm-7">
                                        <select class='form-control' ng-model="report_by" ng-change="onChangeReportBy()"
                                                ng-options="type for type in reportby_list" >
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
												
                        <fieldset class="fieldset2" style="min-height:200px;">
                            <legend><h5><i class="glyphicon glyphicon-filter"></i>&nbsp;&nbsp;Apply filters</h5></legend>
                            <div class="row form-horizontal">
                                <div>
                                    <div  class="row form-horizontal" style="margin-bottom:5px;">
                                        <label class="col-sm-2 control-label" style="white-space: nowrap;">Date : </label>
                                        <div class="datetime col-md-3">										
											<input type="text" ng-model="time_range" ui-jq="daterangepicker" ui-options="dateRangeOption" class="form-control input-sm">
										</div>
                                    </div>
                                    <div  class="row form-horizontal" style="margin-bottom:3px; ">
                                        <label class="col-sm-2 control-label" style="white-space: nowrap;">Room : </label>
                                        <div class="col-sm-9" >
                                            <tags-input ng-model="room_tags" placeholder="add Room" style="margin-top: -7px"
                                                        replace-spaces-with-dashes="false">
                                                <auto-complete source="loadFilters($query, 'Room')"
                                                               min-length="0"
                                                               debounce-delay="0"
                                                               load-on-focus="true"
                                                               load-on-empty="true"
                                                               max-results-to-show="100" ></auto-complete>
                                            </tags-input>
                                        </div>
                                    </div>
                                    <div  class="row form-horizontal" style="margin-bottom:3px; ">
                                        <label class="col-sm-2 control-label" style="white-space: nowrap;">Posted by : </label>
                                        <div class="col-sm-9">
                                            <tags-input ng-model="staff_tags" placeholder="add Post Staff" style="margin-top: -7px"
                                                        replace-spaces-with-dashes="false">
                                                <auto-complete source="loadFilters($query, 'Posted by')"
                                                               min-length="0"
                                                               debounce-delay="0"
                                                               load-on-focus="true"
                                                               load-on-empty="true"
                                                               max-results-to-show="100" ></auto-complete>
                                            </tags-input>
                                        </div>
                                    </div>
                                    <div  class="row form-horizontal" style="margin-bottom:3px; ">
                                        <label class="col-sm-2 control-label" style="white-space: nowrap;">Service item : </label>
                                        <div class="col-sm-9" >
                                            <tags-input ng-model="item_tags" placeholder="add Service Item" style="margin-top: -7px"
                                                        replace-spaces-with-dashes="false">
                                                <auto-complete source="loadFilters($query, 'Service Item')"
                                                               min-length="0"
                                                               debounce-delay="0"
                                                               load-on-focus="true"
                                                               load-on-empty="true"
                                                               max-results-to-show="100" ></auto-complete>
                                            </tags-input>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </fieldset>

                        <div class="searchbox">
                            <div class="row form-horizontal" style="margin-bottom:3px;">
                                <button type="submit" class="btn btn-info" ng-click="onGenerateReport()">
                                    <i class="fa fa-file-text"></i>&nbsp;&nbsp;Generate Report&nbsp;</button>
                            </div>
                            <div class="row form-horizontal" style="margin-bottom:3px;">
                                <button type="submit" class="btn btn-info" ng-if="auth_svc.isValidModule('app.reports.schedule')" ng-click="onShowSchedule()">
                                    <i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;Schedule Report</button>
                                <button type="submit" class="btn btn-info disabled" style="border:#a9a9a9;background-color:#a9a9a9" ng-if="!auth_svc.isValidModule('app.reports.schedule')">
                                    <i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;Schedule Report</button>
                            </div>

                        </div>
                        -->
                    </div>
                </div>
            </div>
            <!-- Preview -->
			<div ng-include="'tpl/reports/report_preview.html'">
			</div>
            
        </div>
    </div>
</div>
