<div ng-controller="HskpReportController">
    <style>
	    	.form-horizontal .control-label {
		    	padding-top: 0px;
	    	}
        .datetime .popover {
            max-width: 650px;
        }
    </style>
    <script type="text/ng-template" id="datetime_ranger.html">
        <div style="width: 700px">
            <div rg-range-picker="myDatetimeRange" labels="myDatetimeLabels"></div>
        </div>
    </script>
    <script type="text/ng-template" id="tag-template">
        <div class="tag-template">
            <div class="right-panel">
                <span>{{data.key}}</span>
                <a class="remove-button" ng-click="$removeTag()">&#10006;</a>
            </div>
        </div>
    </script>
    <script type="text/ng-template" id="autocomplete-template">
        <div class="autocomplete-template">
            <div class="right-panel">
                <span ng-bind-html="$highlight($getDisplayText())"></span><br>
                <span style="font-size: 10px">{{data.type}}</span>
            </div>
        </div>
    </script>
    <!---------------------------------->
    <div class="col-lg-12 col-centered">
        <div class="panel-default">
            <div class="form-horizontal" ng-show="!data.isHidden" style="`width:100%; margin: auto;">
                <div class="row form-group" style="width:100%; margin:auto;">
                    <div class="form-horizontal form-validation" style="float:left; width:100%; height:20%; display:inline-block;">
	                    <div class="fieldset1 panel panel-default" style="border-radius: 4px">
												<div class="panel-heading">
													<div>
														<label class="font-bold text-sm"><i class="fa fa-columns text-default"></i>&nbsp;&nbsp;Grouping</label>&nbsp;&nbsp;
													</div>
												</div>
												
												<div style="padding-top: 15px">
													<form class="form-horizontal form-validation">
														<div class="col-sm-12">
															<label class="control-label text-xs text-muted">Report Type : </label>
                              <select class='form-control' ng-model="report_type" ng-change="onChangeReportType()"
                                ng-options="type for type in reporttypes">
                              </select>
                            </div>
                            <div class="col-sm-12" ng-show = "report_type != 'Task Sheet'">
															<label class="control-label text-xs text-muted">Report By : </label>
                              <select class='form-control' ng-model="report_by" ng-change="onChangeReportBy()"
                                ng-options="type for type in reportby_list" >
                              </select>
                            </div>
                            
													</form>
												</div>
                        </div>
                        <div class="fieldset2 panel panel-default" style="border-radius: 4px; width: 80%">
                            <div class="panel-heading">
                                <div>
                                    
            <button type="submit" class="btn btn-sm btn-info pull-right" onclick="loadBlockingUi();" ng-click="onGenerateReport()" style="margin-top: -5px">
                <i class="fa fa-file-text"></i>&nbsp;&nbsp;Generate Report&nbsp;</button>
            
                                            <button type="submit" class="btn btn-sm btn-default pull-right" style="color: white; background-color:#a9a9a9; margin-top: -5px; margin-right: 2px" ng-if="!auth_svc.isValidModule('app.reports.schedule')">
                <i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;Schedule Report</button>
                
            <button type="submit" class="btn btn-sm btn-info pull-right" ng-if="auth_svc.isValidModule('app.reports.schedule')" ng-click="onShowSchedule()" style="margin-top: -5px; margin-right: 2px">
                <i class="glyphicon glyphicon-calendar"></i>&nbsp;&nbsp;Schedule Report</button>
            
            
      </div>
      <div>
        <label class="font-bold text-sm"><i class="fa fa-columns text-default"></i>&nbsp;&nbsp;Apply Filters</label>&nbsp;&nbsp;
    
    </div>
</div>

<div class="panel-body">
    <form class="form-horizontal form-validation">
        <div class="row form-horizontal">
                <div class="btn-group col-sm-12" ng-if = "report_by != 'Roster Allocation' && report_type != 'Task Sheet'" style="margin-top: -2px">
                        <label class="btn btn-info btn-sm" ng-click="dateShort('Today')" >Today</label>
                        <label class="btn btn-info btn-sm" ng-click="dateShort('Yesterday')">Yesterday</label>
                        <label class="btn  btn-info btn-sm" ng-click="dateShort('This Week')">This Week</label>
                        <label class="btn  btn-info btn-sm" ng-click="dateShort('Last Week')">Last Week</label>
                        <label class="btn  btn-info btn-sm" ng-click="dateShort('This Month')">This Month</label>
                        <label class="btn  btn-info btn-sm" ng-click="dateShort('Last Month')">Last Month</label>
                        <label class="btn  btn-info btn-sm" ng-click="dateShort('This Year')">This Year</label>
                        <label class="btn  btn-info btn-sm" ng-click="dateShort('Custom')">Custom</label>
                      </div>
                      <div class="btn-group col-sm-12" ng-if = "report_by == 'Roster Allocation'" style="margin-top: -2px">
                        <label class="btn btn-info btn-sm" ng-click="dateShort('Today')" >Today</label>
                      </div>
            <div class="col-sm-6" ng-hide = "report_type == 'Task Sheet'">
                <label class="control-label text-xs text-muted">Period :</label>
                <div class="datetime">										
                    <input type="text" ng-model="time_range" ng-disabled="date_short!='Custom'" ui-jq="daterangepicker" ui-options="dateRangeOption" class="form-control input-sm">
                </div>
            </div>
            <div class="col-sm-3" ng-hide = "report_by == 'Discrepancy' || report_type == 'Task Sheet'">
                <label class="control-label text-xs text-muted">Status :</label>
                <div class="text-xs" ng-dropdown-multiselect="" options="status_tags" selected-model="status" checkboxes="true" extra-settings="status_tags_hint_setting" translation-texts="status_tags_hint" ng-multiselect-disabled="status_flag"></div>
            </div>
            
</div>
<div class="row form-horizontal">
            
            <div class="col-sm-6" ng-if = "report_by == 'Room' || report_by == 'Discrepancy'">
                <label class="control-label text-xs text-muted">Room :</label>
                <tags-input ng-model="room_tags" placeholder="Add a Room" replace-spaces-with-dashes="false" style="margin-top: -5px"
                        on-tag-added="onChangeRoom()" on-tag-removed="onChangeRoom()">
<auto-complete source="loadFiltersValue($query, 'Room')"
min-length="0"
debounce-delay="0"
load-on-focus="true"
load-on-empty="true"
max-results-to-show="20"></auto-complete>
</tags-input>
            </div>
            <div class="col-sm-6" ng-if = "report_by == 'Posted by' || report_by == 'Discrepancy'">
                <label class="control-label text-xs text-muted">Posted By :</label>
                <tags-input ng-model="staff_tags" placeholder=" Add Posted Staff" replace-spaces-with-dashes="false" style="margin-top: -5px">
<auto-complete source="loadFiltersValue($query, 'Posted by')"
min-length="0"
debounce-delay="0"
load-on-focus="true"
load-on-empty="true"
max-results-to-show="20"></auto-complete>
</tags-input>
            </div>

           
            
                <div class="col-sm-6" ng-if = "report_type == 'Task Sheet'">
                    <label class="control-label text-xs text-muted">Room Type :</label>
                    <tags-input ng-model="room_type_tags" placeholder="Add a Room Type" replace-spaces-with-dashes="false" style="margin-top: -5px"
                            on-tag-added="onChangeRoomType()" on-tag-removed="onChangeRoomType()">
    <auto-complete source="loadFiltersValue($query, 'Room Type')"
    min-length="0"
    debounce-delay="0"
    load-on-focus="true"
    load-on-empty="true"
    max-results-to-show="20"></auto-complete>
    </tags-input>
                </div>
                
            
                    <div class="col-sm-6" ng-if = "report_type == 'Task Sheet'">
                        <label class="control-label text-xs text-muted">Room Status :</label>
                        <tags-input ng-model="room_status_tags" placeholder="Add Room Status" replace-spaces-with-dashes="false" style="margin-top: -5px"
                                on-tag-added="onChangeRoom()" on-tag-removed="onChangeRoom()">
        <auto-complete source="loadFiltersValue($query, 'Room Status')"
        min-length="0"
        debounce-delay="0"
        load-on-focus="true"
        load-on-empty="true"
        max-results-to-show="20"></auto-complete>
        </tags-input>
                    </div>

                    <div class="col-sm-6" ng-if = "report_type == 'Task Sheet'">
                        <label class="control-label text-xs text-muted">FO Status :</label>
                        <tags-input ng-model="occupancy_tags" placeholder="Add Occupancy" replace-spaces-with-dashes="false" style="margin-top: -5px"
                                on-tag-added="onChangeRoom()" on-tag-removed="onChangeRoom()">
        <auto-complete source="loadFiltersValue($query, 'Occupancy')"
        min-length="0"
        debounce-delay="0"
        load-on-focus="true"
        load-on-empty="true"
        max-results-to-show="20"></auto-complete>
        </tags-input>
                    </div>

                    <div class="col-sm-6" ng-if = "report_type == 'Task Sheet'">
                        <label class="control-label text-xs text-muted">Reservation Status :</label>
                        <tags-input ng-model="res_status_tags" placeholder="Add Reservation Status" replace-spaces-with-dashes="false" style="margin-top: -5px"
                                on-tag-added="onChangeRoom()" on-tag-removed="onChangeRoom()">
        <auto-complete source="loadFiltersValue($query, 'Reservation Status')"
        min-length="0"
        debounce-delay="0"
        load-on-focus="true"
        load-on-empty="true"
        max-results-to-show="20"></auto-complete>
        </tags-input>
                    </div>
            
</div>

            

            

    </form>
</div>
</div>
 
</div>
</div>
</div>

<!-- Preview -->
<div ng-include="'tpl/reports/report_preview.html'">
</div>

</div>
</div>